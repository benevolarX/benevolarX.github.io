<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8"/>
		<title>full screen</title>
		<meta name="viewport" content="width=device-width,height=device-height initial-scale=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
		<link media="all" rel="stylesheet" href="../assets/css/b-css.min.css" />
		<link media="all" rel="stylesheet" href="../assets/css/classic.css" />
		<style>
			.blur {
				webkit-filter: blur(5px);
				filter: blur(5px);
			}
		</style>
	</head>
	<body>
		<div id="main" class="full flex">
			<div class="retour" >
				<a href="../index.html" class="btn">retour</a>
			</div>
			<div class="bg-blue"><br/><br/>hello<br/></div>
			<!-- <canvas class="bg-red" id="jeu" width="1280" height="960"></canvas> -->
		</div>
		<script>
			function draw(img, canvas) {
				//img.filter = 'blur(20px)';
				let ctx = canvas.getContext("2d");
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				let pw = canvas.clientWidth;
				let ph = canvas.clientHeight;
				canvas.width = pw;
				canvas.height = ph;
				let r1 = canvas.width / img.width;
				let r2 = canvas.height / img.height;
				let r = Math.min(r1, r2);
				let nw = img.width * r;
				let nh = img.height * r;
				let nx = (canvas.width - nw) / 2;
				let ny = (canvas.height - nh) / 2;
				ctx.drawImage(img, nx, ny, nw, nh);
			}
			window.onload = function() {
				let canvas = document.createElement('canvas');
				canvas.id = 'jeu';
				canvas.width = 1248;
				canvas.height = 768;
				canvas.style.width = '1248px'
				canvas.style.height = '768px';
				const main = document.getElementById('main');
				main.appendChild(canvas);
				let img = document.createElement('img');
				console.log(img);
				img.src = "../../../../oprpg-v4/public/assets/img/iles/drum.jpg";
				img.onload = () => draw(img, canvas);
				window.onresize = () => draw(img, canvas);
			};
		</script>
	</body>
</html>